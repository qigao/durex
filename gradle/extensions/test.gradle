test {
    useJUnitPlatform {
        excludeEngines 'junit-vintage'
    }
    maxParallelForks Runtime.runtime.availableProcessors()
    testLogging {
        events "passed", "skipped", "failed"
        exceptionFormat 'full'
    }
    maxHeapSize = '1G'
    maxParallelForks = Runtime.runtime.availableProcessors().intdiv(2) ?: 1
}
