plugins {
    alias glibs.plugins.sonarqube
}

apply plugin: 'org.sonarqube'

sonarqube {
    properties {
        property "sonar.host.url", "https://sonarcloud.io"
        property "sonar.projectBaseDir", "$projectDir"
        property "sonar.projectKey", "com.github.durex:Qurkus-starter"
        property "sonar.projectName", "Starter"
    }
}

jacocoTestReport {
    afterEvaluate {
        classDirectories.setFrom(files(classDirectories.files.collect {
            fileTree(dir: it, exclude: '**/repository/**'
            )
        }))
    }
}

dependencies {
    testImplementation project(":shared:utils")
}
